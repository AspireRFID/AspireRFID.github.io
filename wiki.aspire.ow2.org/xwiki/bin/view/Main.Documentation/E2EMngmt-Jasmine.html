<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">

<!-- Mirrored from wiki.aspire.ow2.org/xwiki/bin/view/Main.Documentation/E2EMngmt-Jasmine by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 23 Mar 2015 17:30:02 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>
Aspire Wiki - ObjectWeb - E2EMngmt-Jasmine
</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="NAGIOS" content="OK" >
<meta name="revisit-after" content="3 days" />
<meta name="description" content="Wiki Website" />
<meta name="keywords" content="objectweb Open Source Middleware" />
<meta name="distribution" content="GLOBAL" />
<meta name="rating" content="General" />
<meta name="copyright" content="Copyright 2005-2006, ObjectWeb Consortium" />
<meta name="author" content="objectweb" />
<meta http-equiv="reply-to" content="webmaster@objectweb.org" />
<meta name="language" content="en" />
<link rel="alternate" type="application/rss+xml" title="ObjectWeb News RSS Feed" href="../Main/BlogRss7f1d?xpage=rdf" />
<link type="image/x-icon" href="../../download/XWiki/MySkin/ow.ico" rel="icon" />
<link type="image/x-icon" href="../../download/XWiki/MySkin/ow.ico" rel="shortcut icon" />
<link href="../../skin/XWiki/MySkin/style.css" rel="stylesheet" type="text/css"  />
<link href="../../skin/XWiki/MySkin/style.css" rel="stylesheet" type="text/css" title="default" />
<link href="../../skin/XWiki/MySkin/style.css" rel="alternate stylesheet" type="text/css"  title="Alternate StyleSheet 1" />
<style type="text/css">

</style>
<style type="text/css">

</style>

<script type="text/javascript" src="../../../skins/default/skin.js"></script>
<script type="text/javascript" src="../../../skins/default/prototype.js"></script>
<script type="text/javascript" src="../../../skins/default/xwiki.js"></script>
<script type="text/javascript" src="../../../skins/default/browserdetect.js"></script>
</head>
<body>

<div id="owlinks">
<a href="http://www.ow2.org/">&nbsp;Consortium&nbsp;</a>&nbsp;&nbsp;<a href="http://www.ow2.org/xwiki/bin/view/Activities/Fundamentals">&nbsp;Activities&nbsp;</a>&nbsp;&nbsp;<a href="http://www.ow2.org/xwiki/bin/view/Activities/Projects">&nbsp;Projects&nbsp;</a>&nbsp;&nbsp;<a href="http://forge.objectweb.org/">&nbsp;Forge&nbsp;</a>&nbsp;&nbsp;<a href="http://www.ow2.org/view/Events/">&nbsp;Events&nbsp;</a>
</div>

<div id="xwikibanner" style="height: 95px">
<div id="xwikilogo" style="top: 20px;">
    <a href="../Main/index.html">
<img src="../../download/XWiki/MySkin/logo.png" alt="ObjectWeb logo" />
    </a>
  </div>

<div id="xwikilinks">
  <div id="xwikimenu">
<br/>
<a href="../../login/XWiki/XWikiLogin904a.html?xredirect=http://wiki.aspire.ow2.org/xwiki/bin/view/Main.Documentation/E2EMngmt-Jasmine">Log-in</a><br />
<a href="http://consortium.objectweb.org/registration.html">Register</a>
  </div>
  <div id="xwikititle">
   <h1><a href='E2EMngmt-Jasmine.html'>Aspire :: End-to-end management :: Jasmine</a></h1>
  </div>
</div>
</div>

  <div class="xwiki0a" id="xwikinav_header">
  <div id="xwikiwebusermenu">
    <span id="xwikiwebusermenutitle">Space Menu</span>
    <a href="http://consortium.objectweb.org/">Consortium</a><span> | </span>
<a href="http://solutions.objectweb.org/">Solutions</a><span> | </span>
<a href="http://middleware.objectweb.org/">Middleware</a><span> | </span>
<a href="http://forge.objectweb.org/">Forge</a><span> | </span>
<a href="http://myobjectweb.objectweb.org/">MyObjectWeb</a><span> | </span>

  </div>
  <div id="xwikieditmenu">
                          <a href="../../pdf/Main.Documentation/E2EMngmt-Jasmine.html" class="img"><img src="../../../skins/default/pdf.gif" alt="PDF" title="PDF"/>PDF</a><span class="xwikisep"> | </span>
    <a href="E2EMngmt-Jasmined5a0.html?xpage=history#aspire" class="img"><img src="../../../skins/default/history.gif" alt="History" title="History"/>History</a><span class="xwikisep"> | </span>
    <div id="xwikimoreactions">
      <div id="xwikimoreactionstitle"><a href="#" onclick="showhide('xwikimoreactionsitems'); return false;">More Actions</a></div>
      <div id="xwikimoreactionsitems">
        <div class="xwikimenutitle">View</div>
                  <span class="xwikimoreactionitem"><a href="../../viewrev/Main.Documentation/E2EMngmt-Jasminecede.html?xpage=code&amp;#aspire">Code</a></span><span class="xwikisep"> | </span>
                <span class="xwikimoreactionitem"><a href="E2EMngmt-Jasmined77f?xpage=xml&amp;">XML</a></span><span class="xwikisep"> | </span>
                        <div class="xwikimenutitle">Help</div>
        <span class="xwikimoreactionitem"><a href="../Doc/index.html">Documentation</a></span><span class="xwikisep"> | </span>
        <span class="xwikimoreactionitem"><a href="../Doc/XWikiSyntax.html">XWiki Syntax</a></span><span class="xwikisep"> | </span>
      </div>
    </div>
  </div>
  <div id="xwikilanguagemenu">
    
  </div>
  </div>

<div id="xwikicontent" class="show-all">
       <div id="columns">
        <div class="cols-wrapper">
          <div class="float-wrapper">
            <div id="col-a">
              <div class="main-content">
<h2 class="heading-1"><span id="HAspire3A3AEndtoendmanagement3A3AJasmine">Aspire :: End-to-end management :: Jasmine</span></h2> 
<hr class="line"/>
            <ul>
          <li><a href="#HContext">1 Context</a> 
      <li><a href="#HUsecases">2 Usecases</a> 
        <ul>
          <li><a href="#HStatictopology">2.1 Static topology</a> 
        <ul>
          <li><a href="#HBootstrap">2.1.1 Bootstrap</a> 
      <li><a href="#HArtifactrepository">2.1.2 Artifact repository</a> 
      <li><a href="#HConfigurationrepository">2.1.3 Configuration repository</a> 
        </ul>
          <li><a href="#HMachinewakeup">2.2 Machine wakeup</a> 
      <li><a href="#HInitialprovisioning">2.3 Initial provisioning</a> 
      <li><a href="#HProvisioningupdate">2.4 Provisioning update</a> 
      <li><a href="#HConfigurationprovisioningandrecovery">2.5 Configuration provisioning and recovery</a> 
      <li><a href="#HMetricscollectionandalarms">2.6 Metrics collection and alarms</a> 
        </ul>
          <li><a href="#HHints">3 Hints</a> 
        <ul>
          <li><a href="#HServerstartup">3.1 Server start-up</a> 
      <li><a href="#HServerconfiguration">3.2 Server configuration</a> 
      <li><a href="#HAccessMBeansthroughthenetwork">3.3 Access MBeans through the network</a> 
      <li><a href="#HMBeanvaluepollingwithMBeanCmd">3.4 MBean value polling with MBeanCmd</a> 
        </ul>
          <li><a href="#HLinks">4 Links</a> 
      </ul> <hr class="line"/><p class="paragraph"/>This section describes the usage of OW2 Jasmine to manage autonomically the components of the Aspire middleware.
<h3 class="heading-1-1"><span id="HContext">Context</span></h3> 
<span class="wikiexternallink"><a href="http://jasmine.ow2.org/">&#79;W2 Jasmine</a></span> enables the autonomic management of distributed infrastructure of machines executed the Aspire components (ALE, BEG, EPCIS, ...).<p class="paragraph"/>OW2 Jasmine elements are:
<ul class="star">
<li><span class="wikiexternallink"><a href="http://jasmine.ow2.org/doc/docbkx/mbeancmd-user-guide/2.2.1-SNAPSHOT/html/mbeancmd_guide.html">&#77;BeanCmd</a></span><ul class="star">
<li><span class="wikiexternallink"><a href="http://jasmine.ow2.org/doc/docbkx/mbeancmd-user-guide/2.2.1-SNAPSHOT/html/mbeancmd_guide.html#mbeancmd.stat">&#99;ommand stat</a></span></li>
</ul>
</li>
<li><span class="wikiexternallink"><a href="http://jasmine.ow2.org/doc/docbkx/jasmine-monitoring-user-guide/1.2.3-SNAPSHOT/html/jasmine-monitoring_guide.html#monitoring.notification">&#68;rools rules for notification</a></span></li>
</ul><h3 class="heading-1-1"><span id="HUsecases">Usecases</span></h3> 
<h4 class="heading-1-1-1"><span id="HStatictopology">Static topology</span></h4> 
<h5 class="heading-1-1-1-1"><span id="HBootstrap">Bootstrap</span></h5> 
<ul class="star">
<li>µJOnAS : provides utility MBeans (send a file to the server, ...)</li>
<li>Jasmine Agent</li>
</ul><h5 class="heading-1-1-1-1"><span id="HArtifactrepository">Artifact repository</span></h5> 
<h5 class="heading-1-1-1-1"><span id="HConfigurationrepository">Configuration repository</span></h5><p class="paragraph"/>In order to ease the deployment and to have a homogeneous platform, all configuration files (ECSpec, LRSpec, ...) may be available on a specific repository, common for all servers.
<h4 class="heading-1-1-1"><span id="HMachinewakeup">Machine wakeup</span></h4><p class="paragraph"/>The code from the <span class="wikiexternallink"><a href="http://ecom.ow2.org/xwiki/bin/view/Main/engreenit">&#71;reenIT demo</a></span> for machines wake up is based on the WakeOnLAN standard.<p class="paragraph"/>This standard can't cross routers, and may have to be used in internal networks.<p class="paragraph"/>Also, the ALE server may be automatically started when the system is up (Unix daemon, Windows service...), or started via a JASMINe Agent.
<h4 class="heading-1-1-1"><span id="HInitialprovisioning">Initial provisioning</span></h4><p class="paragraph"/>Different ways has been discussed for the initial provisioning :
<ul class="star">
<li>via <span class="wikiexternallink"><a href="http://jonas.ow2.org/JONAS_5_1_0/doc/doc-en/html/deployment-plans_guide.html">&#100;eployment plans</a></span></li>
<li>by sending bundles JAR files to the server (via its sendFile() capable MBean), then load it with a FileInstall bundle, or via the AdminMBean</li>
<li>by using PaxRunner or Tomcat</li>
</ul><h4 class="heading-1-1-1"><span id="HProvisioningupdate">Provisioning update</span></h4> 
<ul class="star">
<li>There is no information about updating a deployment plan.</li>
<li>Sending an updated file, and use it with FileInstall or AdminMBean may not be difficult</li>
</ul><h4 class="heading-1-1-1"><span id="HConfigurationprovisioningandrecovery">Configuration provisioning and recovery</span></h4><p class="paragraph"/>When the µJOnAS is started, it provides some utility MBeans.
One of them allows to send a binary file to the server (via a bytes array).<p class="paragraph"/>This way, when JASMINe is able to recognize that a new server is up, a drools rule can provide base ECSpec and LRSpecs XML files.
<h4 class="heading-1-1-1"><span id="HMetricscollectionandalarms">Metrics collection and alarms</span></h4><p class="paragraph"/>All data may be collected throught JMX MBeans.<p class="paragraph"/>Some metrics are purely informative (uptime...), but other ones may be used in order to control the server state (number of generated reports, event cycles...).<p class="paragraph"/>By using the '-rate' option of the JASMINe <strong class="strong">stat</strong> command and a threshold, a drools rule is able to test the ale server activity, and notify the administrator, via JASMINe notifications, if the server runs to slow or to fast.
<h3 class="heading-1-1"><span id="HHints">Hints</span></h3> 
<h4 class="heading-1-1-1"><span id="HServerstartup">Server start-up</span></h4><p class="paragraph"/>The server may be started by using an agent able to launch Pax Runner with a specified configuration file provided through an MBean method call.
<h4 class="heading-1-1-1"><span id="HServerconfiguration">Server configuration</span></h4><p class="paragraph"/>By using MBeanCmd, JASMINe events can be used to detect new servers, and send them their specific configuration via MBeans.<p class="paragraph"/>A sample rule has been developed to demonstrate this mechanism :
<ul class="star">
<li>JASMINe polls periodically an ALE server MBean attribute : the uptime</li>
<li>When the server is down, no event are triggered</li>
<li>When the server is up, a rule handles the event, and sends a server-specific configuration (Logical readers, ECSpecs, subscriptions) via ALE server MBeans.</li>
</ul><strong class="strong">TODO</strong> attach the demonstration files
<h4 class="heading-1-1-1"><span id="HAccessMBeansthroughthenetwork">Access MBeans through the network</span></h4><p class="paragraph"/>MBeans can be accessed directly on a local machine, but a little trick allows a remote access : in the ALE server command line, the JMX remote options must be defined.<p class="paragraph"/>Example :
<div class="code"><pre>$ java &#13;
    &#45;Dcom.sun.management.jmxremote.port=8088           # Listening port
    &#45;Dcom.sun.management.jmxremote.authenticate=<span class="java&#45;keyword">false</span>  # no authentication
    &#45;Dcom.sun.management.jmxremote.ssl=<span class="java&#45;keyword">false</span>           # No SSL connexion
    &#45;Dfelix.config.properties=file:felix/config.ini
    &#45;jar bundles/org.apache.felix.main_2.0.2.jar</pre></div><p class="paragraph"/>This way, the ALE server can be accessed by MBeanCmd in JASMINe, by using the corresponding JNDI target address :<p class="paragraph"/><div class="code"><pre>service:jmx:rmi://ale_server_address/jndi/rmi://ale_server_address:1111/jmxrmi</pre></div>
<h4 class="heading-1-1-1"><span id="HMBeanvaluepollingwithMBeanCmd">MBean value polling with MBeanCmd</span></h4><p class="paragraph"/>MBeanCmd and its command stat allows to retrieve periodically informations about the current server state.<p class="paragraph"/>Each time a requested attribute has been read, a JasmineEventEB event is raised, and can be handled in a Drool script.<p class="paragraph"/>Example : Retrieve the server uptime everey 5 seconds<p class="paragraph"/><div class="code"><pre>$ stat &#13;
    &#45;p 5                                                    # Poll delay
    &#45;name <span class="java&#45;quote">"org.ow2.aspirerfid:type=aleserver,name=server"</span>   # Source MBean
    &#45;a Uptime                                               # MBean attribute to read
    &#45;target service:jmx:rmi://localhost/jndi/rmi://localhost:1111/jmxrmi
    &#45;jasmine vm://MBeanCmd_dispatcher                       # Event handler (JASMINe)</pre></div>
<h3 class="heading-1-1"><span id="HLinks">Links</span></h3><p class="paragraph"/><p class="paragraph"/>

         </div>
            </div>
            <div id="col-b" class="sidecol">
              <div class="box">
<p class="paragraph"/><p class="paragraph"/><div class="leftOW" style="width: 145px">
<center>
<h4 class="heading-1-1-1"><span id="HMain">Main</span></h4> 
</center>
<ul class="star">
<li><span class="wikilink"><a href="../Main/index.html">Home</a></span></li>
<li><span class="wikilink"><a href="../Main/News.html">News</a></span></li>
<li><span class="wikilink"><a href="../Main/FAQs.html">FAQ</a></span></li>
</ul><center>
<h4 class="heading-1-1-1"><span id="HLearn">Learn</span></h4> 
</center>
<ul class="star">
<li><span class="wikilink"><a href="../Main/Documentation.html">Documentation</a></span></li>
<li><span class="wikiexternallink"><a href="http://moodle.fp7-aspire.eu/">&#77;oodle</a></span></li>
<li><span class="wikilink"><a href="../Main/Services.html">Services (Training/Consulting)</a></span></li>
<li><span class="wikilink"><a href="../Main/Readers.html">Supported devices</a></span></li>
<li><span class="wikilink"><a href="Deliverables.html">Deliverables</a></span></li>
<li><span class="wikilink"><a href="../Main/References.html">References</a></span></li>
</ul><center>
<h4 class="heading-1-1-1"><span id="HUse">Use</span></h4> 
</center>
<ul class="star">
<li><span class="wikilink"><a href="../Main/Downloads.html">Downloads</a></span></li>
<li><span class="wikilink"><a href="Demos.html">Demos</a></span></li>
<li><span class="wikilink"><a href="../Main/Demos.html">Other Demos</a></span></li>
<li><span class="wikilink"><a href="BestPractices.html">Best Practices</a></span></li>
<li><span class="wikilink"><a href="CompetitiveAdvantageOfUsingAspireRFID.html">Why AspireRFID?</a></span></li>
<li><span class="wikilink"><a href="../Main/Licenses.html">Licenses</a></span></li>
</ul><center>
<h4 class="heading-1-1-1"><span id="HContribute">Contribute</span></h4> 
</center>
<ul class="star">
<li><span class="wikilink"><a href="../Main/Developers.html">Developer Instructions</a></span></li>
<li><span class="wikilink"><a href="../Main/Source-SVN.html">Source-SVN Access</a></span></li>
<li><span class="wikiexternallink"><a href="http://websvn.ow2.org/listing.php?repname=aspire&amp;">&#66;rowse sources</a></span></li>
<li><span class="wikilink"><a href="../Main/Guidelines.html">Code guidelines</a></span></li>
<li><span class="wikilink"><a href="../Main/Roadmap.html">Roadmap</a></span></li>
<li><span class="wikilink"><a href="../Main/SummerOfCode.html">Summer of code</a></span></li>
<li><span class="wikilink"><a href="../Main/Internships.html">Internships</a></span></li>
</ul><center>
<h4 class="heading-1-1-1"><span id="HCommunity">Community</span></h4> 
</center>
<ul class="star">
<li><span class="wikilink"><a href="../Community/Lists.html">Mailing Lists</a></span></li>
<li><span class="wikilink"><a href="../Main/Contributors.html">Contributors</a></span></li>
<li><span class="wikiexternallink"><a href="http://www.fp7-aspire.eu/">&#70;P7 ASPIRE Project</a></span></li>
<li><span class="wikiexternallink"><a href="http://forge.objectweb.org/projects/aspire">&#70;orge</a></span></li>
<li><span class="wikiexternallink"><a href="http://www.ohloh.net/p/aspire">&#65;spireRFID@ohloh</a></span></li>
<li><span class="wikilink"><a href="../Main/WhoIsUsingAspire.html">AspireRFID Users</a></span></li>
</ul><center>
<h4 class="heading-1-1-1"><span id="HOther">Other</span></h4> 
</center>
<ul class="star">
<li><span class="wikilink"><a href="../Main/Logo.html">Logo</a></span></li>
<li><span class="wikilink"><a href="../Main/PhotoAlbum.html">Photo Album</a></span></li>
<li><span class="wikilink"><a href="../Main/Goodies.html">Goodies</a></span></li>
<li><span class="wikilink"><a href="../Main/Videos.html">Videos</a></span></li>
<li><span class="wikilink"><a href="../Main/Operation.html">RFIDthon</a></span></li>
<li><span class="wikilink"><a href="../Main/Links.html">Links</a></span></li>
</ul></div><p class="paragraph"/><p class="paragraph"/>
<br/><p class="paragraph"/><a href="http://www2.clustrmaps.com/counter/maps.php?url=http://wiki.aspire.objectweb.org/" id="clustrMapsLink"><img src="http://www2.clustrmaps.com/counter/index2.php?url=http://wiki.aspire.objectweb.org/" style="border:0px;" alt="Locations of visitors to this page" title="Locations of visitors to this page" id="clustrMapsImg" onerror="this.onerror=null; this.src='../../../../../clustrmaps.com/images/clustrmaps-back-soon.jpg'; document.getElementById('clustrMapsLink').href='http://clustrmaps.com/';" />
</a><p class="paragraph"/>
<script type="text/javascript" src="../../../../../widgets.amung.us/classic.js"></script><script type="text/javascript">WAU_classic('caw58f8716au')</script><p class="paragraph"/><p class="paragraph"/><script type="text/javascript">
if(document.location.protocol=='E2EMngmt-Jasmine.html'){
 var Tynt=Tynt||<a class="wikicreatelink" href="../../edit/Main.Documentation/indexf262.html?parent=Main.Documentation.E2EMngmt-Jasmine"><span class="wikicreatelinktext"></span><span class="wikicreatelinkqm">?</span></a>;Tynt.push('c507ju8n4r4kxsacwqm_6r');Tynt.i={"ap":"Read more:","cc":"2","b":true};
 (function(){var s=document.createElement('script');s.async="async";s.type="text/javascript";s.src='../../../../../tcr.tynt.com/ti.js';var h=document.getElementsByTagName('script')<a class="wikicreatelink" href="/xwiki/bin/edit/Main.Documentation/0?parent=Main.Documentation.E2EMngmt-Jasmine"><span class="wikicreatelinktext">0</span><span class="wikicreatelinkqm">?</span></a>;h.parentNode.insertBefore(s,h);})();
}
</script>

              </div>
            </div>
<div id="xwikidata" class="clear">


</div>
          </div>
          <div id="col-c" class="sidecol">
         <div class="box">
<p class="paragraph"/><center>
<h4 class="heading-1-1-1"><span id="HSearch">Search</span></h4> 
</center>
<center>
<form action="http://wiki.aspire.ow2.org/xwiki/bin/view/Main.Documentation/WebSearch">
<input type="text" name="text" value="" size=15>&nbsp;<input type="submit" name="search" value="Search" size=15>
</form>
</center><p class="paragraph"/><p class="paragraph"/><p class="paragraph"/><p class="paragraph"/><p class="paragraph"/><p class="paragraph"/><p class="paragraph"/><p class="paragraph"/><p class="paragraph"/><p class="paragraph"/><p class="paragraph"/><p class="paragraph"/><p class="paragraph"/><p class="paragraph"/><br/>
<br/>
<br/><p class="paragraph"/>

          </div>
          </div>
          <div class="clear" id="em"></div>
          </div>
          </div>
</div>
<script type="text/javascript">
<!--
function showhide(divname) {
 var style = document.getElementById(divname).style;
 if ((style.display=='block')||(style.display=='')) {
  style.display='none';
  }
 else {
  style.display='block';
  }
}
// -->
</script>
<div class="xwiki0a" id="xwikinav_footer"></div>

<div id="xwikifooter" class="clear">
 <div id="xwikidocinfo">
  <a href='E2EMngmt.html'>Main.Documentation.E2EMngmt</a> &gt; <a href='E2EMngmt-Jasmine.html'>Aspire :: End-to-end management :: Jasmine</a>
  (en)
 <br />
  Creator: donsez
 &nbsp;Date: 2010/07/28 12:43
 <br />
 Last Author: calmant
 &nbsp;Date: 2010/09/03 22:11
  </div>

 <div id="xwikifooterimage">
 <a href="http://xwiki.objectweb.org/">
 <img src="../../download/XWiki/MySkin/poweredby_xwiki.png" alt="Powered by XWiki" /></a>
 </div>

 <div id="xwikifootertext">
 Copyright (c) 2005-2009, <a href="http://www.ow2.org/">OW2 Consortium</a> | <a href="../Main/Contact.html">contact</a> | <a href="mailto:webmaster@ow2.org">webmaster</a>
 </div>

 <div id="xwikifooterhelp">
 
 </div>
</div>

</body>

<!-- Mirrored from wiki.aspire.ow2.org/xwiki/bin/view/Main.Documentation/E2EMngmt-Jasmine by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 23 Mar 2015 17:30:10 GMT -->
</html>