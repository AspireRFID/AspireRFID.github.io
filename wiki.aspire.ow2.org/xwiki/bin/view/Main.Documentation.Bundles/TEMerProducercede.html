<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">

<!-- Mirrored from wiki.aspire.ow2.org/xwiki/bin/view/Main.Documentation.Bundles/TEMerProducer?xpage=code& by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 23 Mar 2015 17:45:57 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>
Aspire Wiki - ObjectWeb - TEMerProducer
</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="NAGIOS" content="OK" >
<meta name="revisit-after" content="3 days" />
<meta name="description" content="Wiki Website" />
<meta name="keywords" content="objectweb Open Source Middleware" />
<meta name="distribution" content="GLOBAL" />
<meta name="rating" content="General" />
<meta name="copyright" content="Copyright 2005-2006, ObjectWeb Consortium" />
<meta name="author" content="objectweb" />
<meta http-equiv="reply-to" content="webmaster@objectweb.org" />
<meta name="language" content="en" />
<link rel="alternate" type="application/rss+xml" title="ObjectWeb News RSS Feed" href="../Main/BlogRss7f1d?xpage=rdf" />
<link type="image/x-icon" href="../../download/XWiki/MySkin/ow.ico" rel="icon" />
<link type="image/x-icon" href="../../download/XWiki/MySkin/ow.ico" rel="shortcut icon" />
<link href="../../skin/XWiki/MySkin/style.css" rel="stylesheet" type="text/css"  />
<link href="../../skin/XWiki/MySkin/style.css" rel="stylesheet" type="text/css" title="default" />
<link href="../../skin/XWiki/MySkin/style.css" rel="alternate stylesheet" type="text/css"  title="Alternate StyleSheet 1" />
<style type="text/css">

</style>
<style type="text/css">

</style>

<script type="text/javascript" src="../../../skins/default/skin.js"></script>
<script type="text/javascript" src="../../../skins/default/prototype.js"></script>
<script type="text/javascript" src="../../../skins/default/xwiki.js"></script>
<script type="text/javascript" src="../../../skins/default/browserdetect.js"></script>
</head>
<body>

<div id="owlinks">
<a href="http://www.ow2.org/">&nbsp;Consortium&nbsp;</a>&nbsp;&nbsp;<a href="http://www.ow2.org/xwiki/bin/view/Activities/Fundamentals">&nbsp;Activities&nbsp;</a>&nbsp;&nbsp;<a href="http://www.ow2.org/xwiki/bin/view/Activities/Projects">&nbsp;Projects&nbsp;</a>&nbsp;&nbsp;<a href="http://forge.objectweb.org/">&nbsp;Forge&nbsp;</a>&nbsp;&nbsp;<a href="http://www.ow2.org/view/Events/">&nbsp;Events&nbsp;</a>
</div>

<div id="xwikibanner" style="height: 95px">
<div id="xwikilogo" style="top: 20px;">
    <a href="../Main/index.html">
<img src="../../download/XWiki/MySkin/logo.png" alt="ObjectWeb logo" />
    </a>
  </div>

<div id="xwikilinks">
  <div id="xwikimenu">
<br/>
<a href="../../login/XWiki/XWikiLogin4831.html?xredirect=http://wiki.aspire.ow2.org/xwiki/bin/view/Main.Documentation.Bundles/TEMerProducer?xpage=code&amp;">Log-in</a><br />
<a href="http://consortium.objectweb.org/registration.html">Register</a>
  </div>
  <div id="xwikititle">
   <h1><a href='TEMerProducer.html'>Aspire :: OSGi Bundles :: TEMPerProducer</a></h1>
  </div>
</div>
</div>

  <div class="xwiki0a" id="xwikinav_header">
  <div id="xwikiwebusermenu">
    <span id="xwikiwebusermenutitle">Space Menu</span>
    <a href="http://consortium.objectweb.org/">Consortium</a><span> | </span>
<a href="http://solutions.objectweb.org/">Solutions</a><span> | </span>
<a href="http://middleware.objectweb.org/">Middleware</a><span> | </span>
<a href="http://forge.objectweb.org/">Forge</a><span> | </span>
<a href="http://myobjectweb.objectweb.org/">MyObjectWeb</a><span> | </span>

  </div>
  <div id="xwikieditmenu">
                          <a href="../../pdf/Main.Documentation.Bundles/Main.Documentation.Bundles_TEMerProducer.pdf" class="img"><img src="../../../skins/default/pdf.gif" alt="PDF" title="PDF"/>PDF</a><span class="xwikisep"> | </span>
    <a href="TEMerProducerd5a0.html?xpage=history#aspire" class="img"><img src="../../../skins/default/history.gif" alt="History" title="History"/>History</a><span class="xwikisep"> | </span>
    <div id="xwikimoreactions">
      <div id="xwikimoreactionstitle"><a href="#" onclick="showhide('xwikimoreactionsitems'); return false;">More Actions</a></div>
      <div id="xwikimoreactionsitems">
        <div class="xwikimenutitle">View</div>
                  <span class="xwikimoreactionitem"><a href="../../viewrev/Main.Documentation.Bundles/TEMerProducercede.html?xpage=code&amp;#aspire">Code</a></span><span class="xwikisep"> | </span>
                <span class="xwikimoreactionitem"><a href="TEMerProducerd77f?xpage=xml&amp;">XML</a></span><span class="xwikisep"> | </span>
                        <div class="xwikimenutitle">Help</div>
        <span class="xwikimoreactionitem"><a href="../Doc/index.html">Documentation</a></span><span class="xwikisep"> | </span>
        <span class="xwikimoreactionitem"><a href="../Doc/XWikiSyntax.html">XWiki Syntax</a></span><span class="xwikisep"> | </span>
      </div>
    </div>
  </div>
  <div id="xwikilanguagemenu">
    
  </div>
  </div>

<div id="xwikieditcontent">
<textarea id='content' rows='70' name='content' cols='80'>1 Aspire :: OSGi Bundles :: TEMPerProducer
----
#toc(&#34;&#34; &#34;&#34; &#34;true&#34;)
----

This section describes the bundle for TEMPer sensor

1.1 Context
The TEMPer is a USB-to-serial low-cost thermometer. It can be ordered from many websites. One of the cheapest is http://www.dealextreme.com/details.dx/sku.7003 .

The TEMPerProducer bundle registers one Producer service producing Measurement, Double or String objects (unit is K).

*WARNING:*\\
as seen on the Internet, there are two versions of this stick.
The current bundle has been tested with the gray version (old one apparently).
A blue version exists, with a different data transmission protocol.

1.1 Dependencies

This bundle requires :
* OSGi R4 Compendium, available from OBR in Felix Shell
* RXTX, available from Aspire SVN Repository/archive/rfidsuite/rfidsuite/bundles/rxtx/

1.1 Build
1.1.1 Sources
* trunk/bundles/sensors/temperproducer/

1.1.1 Device installation
Under Windows
# you must install the USB-to-Serial driver on your host with the CD provided with the USB stick (USB Driver/setup.exe).
# you may install the demonstration application (CD &#62; TEMPer V8.1/setup.exe) to test the thermometer.
# inspect the serial COM port from &#34;System Properties &#62; Hardware &#62; Device Management &#62; Ports (COM and LPT) &#62; USB-SERIAL (COMxx)&#34;

Under Linux
# put the device on a USB port
# In dmesg, you should see a line like : ~~usb 7-2: ch341-uart converter now attached to *ttyUSB0*~~
# In this case, *ttyUSB0* is the serial port to use to read data from the stick.

*WARNING:*\\
Reading serial ports through /dev requires root rights.\\
Some hints to bypass that problem may be given here later.

Then
# cd trunk/bundles/sensors/temperproducer
# configure the serial port in src/main/java/org/ow2/aspirerfid/sensor/temperproducer/TEMPerProducer.java
# mvn clean install

1.1 Configuration

You must configure the properties for your dongle in the source (currently).\\
The default values are a COM14 port and a poll each 2 seconds.

See org/ow2/aspirerfid/sensor/temperproducer/TEMPerProducer.java

* Hard coded COM port :
** Default Value : ~~String portName = &#34;COM14&#34;;~~
** Under Linux, you should use : ~~String portName = &#34;/dev/ttyUSB0&#34;;~~

* Poll delay :
** Default value : ~~int POLLDELAY = 2000;~~

1.1 Artifacts
The artifact to deploy is
*  org.ow2.aspirerfid:org.ow2.aspirerfid.temperproducer

1. Tests
1.1 Under Linux

Tested under Fedora 13 (64 bits), kernel 2.6.33, with included driver

It seems that there is an alternance between a correct value and a constant value.\\
All the results looked like :

&#60;pre&#62;
    529.0875 K
    305.15 K
    529.0875 K
    305.65 K
    529.0875 K
    308.15 K
    529.0875 K
&#60;/pre&#62;

Where 305 K is a correct value (around 30°C), and 529.0875 (around 255.9°C) seems to be a control value.

1.1 Under Windows

Tested under Windows 7 Professional (32 bits), with the provided driver (on the CD-Rom).

Works fine, no problem found.
</textarea>
</div>
<div class="xwiki0a" id="xwikinav_footer"></div>

<div id="xwikifooter" class="clear">
 <div id="xwikidocinfo">
  <a href='../Main.Documentation/Bundles.html'>Main.Documentation.Bundles</a> &gt; <a href='TEMerProducer.html'>Aspire :: OSGi Bundles :: TEMPerProducer</a>
  (en)
 <br />
  Creator: donsez
 &nbsp;Date: 2010/06/17 10:48
 <br />
 Last Author: calmant
 &nbsp;Date: 2010/06/28 08:43
  </div>

 <div id="xwikifooterimage">
 <a href="http://xwiki.objectweb.org/">
 <img src="../../download/XWiki/MySkin/poweredby_xwiki.png" alt="Powered by XWiki" /></a>
 </div>

 <div id="xwikifootertext">
 Copyright (c) 2005-2009, <a href="http://www.ow2.org/">OW2 Consortium</a> | <a href="../Main/Contact.html">contact</a> | <a href="mailto:webmaster@ow2.org">webmaster</a>
 </div>

 <div id="xwikifooterhelp">
 
 </div>
</div>

</body>

<!-- Mirrored from wiki.aspire.ow2.org/xwiki/bin/view/Main.Documentation.Bundles/TEMerProducer?xpage=code& by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 23 Mar 2015 17:45:57 GMT -->
</html>