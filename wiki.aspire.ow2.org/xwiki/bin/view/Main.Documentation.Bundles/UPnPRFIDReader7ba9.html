<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">

<!-- Mirrored from wiki.aspire.ow2.org/xwiki/bin/view/Main.Documentation.Bundles/UPnPRFIDReader?xpage=code by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 23 Mar 2015 17:52:17 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>
Aspire Wiki - ObjectWeb - UPnPRFIDReader
</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="NAGIOS" content="OK" >
<meta name="revisit-after" content="3 days" />
<meta name="description" content="Wiki Website" />
<meta name="keywords" content="objectweb Open Source Middleware" />
<meta name="distribution" content="GLOBAL" />
<meta name="rating" content="General" />
<meta name="copyright" content="Copyright 2005-2006, ObjectWeb Consortium" />
<meta name="author" content="objectweb" />
<meta http-equiv="reply-to" content="webmaster@objectweb.org" />
<meta name="language" content="en" />
<link rel="alternate" type="application/rss+xml" title="ObjectWeb News RSS Feed" href="../Main/BlogRss7f1d?xpage=rdf" />
<link type="image/x-icon" href="../../download/XWiki/MySkin/ow.ico" rel="icon" />
<link type="image/x-icon" href="../../download/XWiki/MySkin/ow.ico" rel="shortcut icon" />
<link href="../../skin/XWiki/MySkin/style.css" rel="stylesheet" type="text/css"  />
<link href="../../skin/XWiki/MySkin/style.css" rel="stylesheet" type="text/css" title="default" />
<link href="../../skin/XWiki/MySkin/style.css" rel="alternate stylesheet" type="text/css"  title="Alternate StyleSheet 1" />
<style type="text/css">

</style>
<style type="text/css">

</style>

<script type="text/javascript" src="../../../skins/default/skin.js"></script>
<script type="text/javascript" src="../../../skins/default/prototype.js"></script>
<script type="text/javascript" src="../../../skins/default/xwiki.js"></script>
<script type="text/javascript" src="../../../skins/default/browserdetect.js"></script>
</head>
<body>

<div id="owlinks">
<a href="http://www.ow2.org/">&nbsp;Consortium&nbsp;</a>&nbsp;&nbsp;<a href="http://www.ow2.org/xwiki/bin/view/Activities/Fundamentals">&nbsp;Activities&nbsp;</a>&nbsp;&nbsp;<a href="http://www.ow2.org/xwiki/bin/view/Activities/Projects">&nbsp;Projects&nbsp;</a>&nbsp;&nbsp;<a href="http://forge.objectweb.org/">&nbsp;Forge&nbsp;</a>&nbsp;&nbsp;<a href="http://www.ow2.org/view/Events/">&nbsp;Events&nbsp;</a>
</div>

<div id="xwikibanner" style="height: 95px">
<div id="xwikilogo" style="top: 20px;">
    <a href="../Main/index.html">
<img src="../../download/XWiki/MySkin/logo.png" alt="ObjectWeb logo" />
    </a>
  </div>

<div id="xwikilinks">
  <div id="xwikimenu">
<br/>
<a href="../../login/XWiki/XWikiLogin395e.html?xredirect=http://wiki.aspire.ow2.org/xwiki/bin/view/Main.Documentation.Bundles/UPnPRFIDReader?xpage=code">Log-in</a><br />
<a href="http://consortium.objectweb.org/registration.html">Register</a>
  </div>
  <div id="xwikititle">
   <h1><a href='UPnPRFIDReader.html'>OW2 :: AspireRFID :: UPnP RFID Reader</a></h1>
  </div>
</div>
</div>

  <div class="xwiki0a" id="xwikinav_header">
  <div id="xwikiwebusermenu">
    <span id="xwikiwebusermenutitle">Space Menu</span>
    <a href="http://consortium.objectweb.org/">Consortium</a><span> | </span>
<a href="http://solutions.objectweb.org/">Solutions</a><span> | </span>
<a href="http://middleware.objectweb.org/">Middleware</a><span> | </span>
<a href="http://forge.objectweb.org/">Forge</a><span> | </span>
<a href="http://myobjectweb.objectweb.org/">MyObjectWeb</a><span> | </span>

  </div>
  <div id="xwikieditmenu">
                          <a href="../../pdf/Main.Documentation.Bundles/Main.Documentation.Bundles_UPnPRFIDReader.pdf" class="img"><img src="../../../skins/default/pdf.gif" alt="PDF" title="PDF"/>PDF</a><span class="xwikisep"> | </span>
    <a href="UPnPRFIDReaderd5a0.html?xpage=history#aspire" class="img"><img src="../../../skins/default/history.gif" alt="History" title="History"/>History</a><span class="xwikisep"> | </span>
    <div id="xwikimoreactions">
      <div id="xwikimoreactionstitle"><a href="#" onclick="showhide('xwikimoreactionsitems'); return false;">More Actions</a></div>
      <div id="xwikimoreactionsitems">
        <div class="xwikimenutitle">View</div>
                  <span class="xwikimoreactionitem"><a href="../../viewrev/Main.Documentation.Bundles/UPnPRFIDReadercede.html?xpage=code&amp;#aspire">Code</a></span><span class="xwikisep"> | </span>
                <span class="xwikimoreactionitem"><a href="UPnPRFIDReaderd77f?xpage=xml&amp;">XML</a></span><span class="xwikisep"> | </span>
                        <div class="xwikimenutitle">Help</div>
        <span class="xwikimoreactionitem"><a href="../Doc/index.html">Documentation</a></span><span class="xwikisep"> | </span>
        <span class="xwikimoreactionitem"><a href="../Doc/XWikiSyntax.html">XWiki Syntax</a></span><span class="xwikisep"> | </span>
      </div>
    </div>
  </div>
  <div id="xwikilanguagemenu">
    
  </div>
  </div>

<div id="xwikieditcontent">
<textarea id='content' rows='70' name='content' cols='80'>1 OW2 :: AspireRFID :: UPnP RFID Reader

----
#toc(&#34;&#34; &#34;&#34; &#34;true&#34;)
----

This section describes the bundle emulated an UPnP RFID Reader

1.1 Context
The installation of new readers and their configuration (ie LRSpec) in the ALE Server is a burden for non-expert people (shop employees for instance) in the context of SOHO. The zero-configuration can be provided by popular service discovery protocols and frameworks such as UPnP and DNS-SD (aka mDNS or Apple’Bonjour). [UPnP&#62;http://www.upnp.org] is the defacto standard for plug-and-play appliances in the small shop and small office (SOHO) context. In order to alleviate the end-user (which is not a RFID integrator or expert), the Aspire middleware will provide a way to taken in account plug-and-play RFID readers (such as shop portals, portable readers, ..) using UPnP. Various implementations of the UPnP specification are available for Java. The Apache Felix UPnP Base Driver provides a bridge between OSGi registry and the UPnP network. It can directly integrated in the OSGi profile of the Aspire ALE Server to discover and to use the UPnP Device.


This project proposes a “zero-configuration” feature for readers communicating with IP (Ethernet, Wifi) using the UPnP infrastructure.
It proposes a UPnP device profile (DCP) for RFID Reader. Readers implementing this profile can be discovery automatically by the Aspire ALE server and added (dynamically and without opertaor configuration) as a regular reader thru their LRSpec description.

The following figure depicts the extension of the ALE Server (OSGi profile) in order to add UPnP RFID Device.

{image:upnpale.png}

The following XML document presents the service description (DCP)  of the RFID Readers is ~~urn:schemas-ow2aspire-org:service:Reader:1~~ .
* Properties (ro) : properties of the reader (application ...). 
* Duration (rw) : duration before two notifications of the report members
* ReportMembers (subscription only) : tag identifiers scanned during a period (similar to the ~~ECReport reportMember~~). The tag is are comma-separated.

{code}
&#60;scpd&#62;
  &#60;serviceStateTable&#62;

    &#60;stateVariable&#62; &#60;!-- Reader properties  --&#62;
      &#60;name&#62;Properties&#60;/name&#62;
      &#60;sendEventsAttribute&#62;no&#60;/sendEventsAttribute&#62; 
      &#60;dataType&#62;string&#60;/dataType&#62; &#60;!-- pairs name-value x-www-form-urlencoded  --&#62;
    &#60;/stateVariable&#62;

    &#60;stateVariable&#62; &#60;!--  duration between 2 reports --&#62;
      &#60;name&#62;Duration&#60;/name&#62;
      &#60;sendEventsAttribute&#62;yes&#60;/sendEventsAttribute&#62; 
      &#60;dataType&#62;ui4&#60;/dataType&#62; &#60;!--  in milliseconds --&#62;
      &#60;defaultValue&#62;1000&#60;/defaultValue&#62;
    &#60;/stateVariable&#62;
    &#60;!-- more parameters for the reader configuration  --&#62;
    
    &#60;stateVariable&#62;  &#60;!-- Report members  --&#62;
      &#60;name&#62;ReportMembers&#60;/name&#62;
      &#60;sendEventsAttribute&#62;yes&#60;/sendEventsAttribute&#62; 
      &#60;dataType&#62;string&#60;/dataType&#62; &#60;!-- CSV of the hexadecimal representation of EPC identifiers  --&#62;
    &#60;/stateVariable&#62;

  &#60;/serviceStateTable&#62;

  &#60;actionList&#62;
    &#60;action&#62;
      &#60;name&#62;SetDuration&#60;/name&#62;
      &#60;argumentList&#62;
        &#60;argument&#62;
          &#60;name&#62;newDuration&#60;/name&#62;
          &#60;direction&#62;in&#60;/direction&#62;
          &#60;relatedStateVariable&#62;Duration&#60;/relatedStateVariable&#62;
        &#60;/argument&#62;
      &#60;/argumentList&#62;
    &#60;/action&#62;
    &#60;action&#62;
      &#60;name&#62;GetDuration&#60;/name&#62;
      &#60;argumentList&#62;
        &#60;argument&#62;
          &#60;name&#62;currentDuration&#60;/name&#62;
          &#60;direction&#62;out&#60;/direction&#62;
          &#60;relatedStateVariable&#62;Duration&#60;/relatedStateVariable&#62;
        &#60;/argument&#62;
      &#60;/argumentList&#62;
    &#60;/action&#62;
    &#60;action&#62;
      &#60;name&#62;GetProperties&#60;/name&#62;
      &#60;argumentList&#62;
        &#60;argument&#62;
          &#60;name&#62;currentProperties&#60;/name&#62;
          &#60;direction&#62;out&#60;/direction&#62;
          &#60;relatedStateVariable&#62;Properties&#60;/relatedStateVariable&#62;
        &#60;/argument&#62;
      &#60;/argumentList&#62;
    &#60;/action&#62;
  &#60;/actionList&#62;
&#60;/scpd&#62;

{code}
Some improvements will coming soon in order to include TDT prefixes, filtering patterns (ie ~~ECSpec.reportSpec.groupSpec.pattern~~), report triggrering conditions (ECSpec++), ...


The UPnP Device can also combine the urn:schemas-ow2aspire-org:service:Reader:1 service with other (standardized) DCP  (~~[TemperatureSensor&#62;http://upnp.org/specs/ha/hvac/]~~ , ~~[LowPower&#62;http://upnp.org/specs/lp/lp1/]~~ , ...) as it shows in the following snapshots of the [Intel' DeviceSpy tool&#62;http://opentools.homeip.net/dev-tools-for-upnp].

{image:upnprfidreader1.png}
{image:upnprfidreader2.png}


Various implementations of the UPnP specification are available for Java. The Apache Felix UPnP Base Driver provides a bridge between OSGi registry and the UPnP network. It can directly integrated in the OSGi profile of the Aspire ALE Server to discover and to use the UPnP RFID reader.


1.1 Demonstrator
A demonstrator of a UPnP RFID Reader is available. It uses the ACR122U reader. The device includes also a fictive ~~[TemperatureSensor&#62;http://upnp.org/specs/ha/hvac/]~~ service and a ~~[LowPower&#62;http://upnp.org/specs/lp/lp1/]~~ service for GreenIT purpose. In the demonstration, this service enables the deep sleep and waking up of the PC running the demonstrator (WakeOnLAN must be activate for waking up the PC).

1.1 Dependencies

This bundle requires :
* OSGi R4 Compendium, available from Felix OBR
* UPnP GenDevice Utils, available from http://svn.apache.org/viewvc/felix/sandbox/donsez/upnp.devicegen.util/
* ACR122U client bundle

1.1 Build
1.1.1 Sources
* [here&#62;http://websvn.ow2.org/listing.php?repname=aspire&#38;path=%2Ftrunk%2Fbundles%2Freaders%2Fupnp.rfidreader%2F]

1.1 Installation

1.1 Test

1.1 Configuration

1.1 Troubleshooting

1.1 Links
</textarea>
</div>
<div class="xwiki0a" id="xwikinav_footer"></div>

<div id="xwikifooter" class="clear">
 <div id="xwikidocinfo">
  <a href='../Main.Documentation/Bundles.html'>Main.Documentation.Bundles</a> &gt; <a href='UPnPRFIDReader.html'>OW2 :: AspireRFID :: UPnP RFID Reader</a>
  (en)
 <br />
  Creator: donsez
 &nbsp;Date: 2011/06/22 11:49
 <br />
 Last Author: donsez
 &nbsp;Date: 2011/09/07 07:50
  </div>

 <div id="xwikifooterimage">
 <a href="http://xwiki.objectweb.org/">
 <img src="../../download/XWiki/MySkin/poweredby_xwiki.png" alt="Powered by XWiki" /></a>
 </div>

 <div id="xwikifootertext">
 Copyright (c) 2005-2009, <a href="http://www.ow2.org/">OW2 Consortium</a> | <a href="../Main/Contact.html">contact</a> | <a href="mailto:webmaster@ow2.org">webmaster</a>
 </div>

 <div id="xwikifooterhelp">
 
 </div>
</div>

</body>

<!-- Mirrored from wiki.aspire.ow2.org/xwiki/bin/view/Main.Documentation.Bundles/UPnPRFIDReader?xpage=code by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 23 Mar 2015 17:52:18 GMT -->
</html>